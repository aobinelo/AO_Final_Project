<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Adaeze Obinelo">

<title>AO_Final_Project - Midterm</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="site_libs/leaflet-1.3.1/leaflet.js"></script>
<link href="site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="site_libs/proj4-2.6.2/proj4.min.js"></script>
<script src="site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="site_libs/leaflet-binding-2.2.0/leaflet.js"></script>
<script src="site_libs/leaflet-providers-1.13.0/leaflet-providers_1.13.0.js"></script>
<script src="site_libs/leaflet-providers-plugin-2.2.0/leaflet-providers-plugin.js"></script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">AO_Final_Project</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Map.html" rel="" target="">
 <span class="menu-text">Cost Map</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Report.qmd" rel="" target="">
 <span class="menu-text">Download the Report</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#research-question-am-i-really-paying-more-to-fly-home-for-thanksgiving-than-anyone-ever-has-before" id="toc-research-question-am-i-really-paying-more-to-fly-home-for-thanksgiving-than-anyone-ever-has-before" class="nav-link active" data-scroll-target="#research-question-am-i-really-paying-more-to-fly-home-for-thanksgiving-than-anyone-ever-has-before">Research Question: Am I really paying more to fly home for thanksgiving than anyone ever has before?</a></li>
  <li><a href="#step-1-get-my-data-set-up-my-library" id="toc-step-1-get-my-data-set-up-my-library" class="nav-link" data-scroll-target="#step-1-get-my-data-set-up-my-library">Step 1: Get my data, set up my library</a></li>
  <li><a href="#missing-values" id="toc-missing-values" class="nav-link" data-scroll-target="#missing-values">Missing Values</a></li>
  <li><a href="#added-coordinates-just-in-case" id="toc-added-coordinates-just-in-case" class="nav-link" data-scroll-target="#added-coordinates-just-in-case">Added coordinates just in case</a></li>
  <li><a href="#step-2-check-data" id="toc-step-2-check-data" class="nav-link" data-scroll-target="#step-2-check-data">Step 2: Check Data:</a></li>
  <li><a href="#step-3-birds-eye-view-comparing-airport-fare-to-passenger-rank" id="toc-step-3-birds-eye-view-comparing-airport-fare-to-passenger-rank" class="nav-link" data-scroll-target="#step-3-birds-eye-view-comparing-airport-fare-to-passenger-rank">Step 3: Bird’s eye view –&gt; Comparing Airport Fare to Passenger Rank</a></li>
  <li><a href="#step-4-answering-my-question" id="toc-step-4-answering-my-question" class="nav-link" data-scroll-target="#step-4-answering-my-question">Step 4: Answering My Question</a></li>
  <li><a href="#conclusion--am-i-spending-more-money" id="toc-conclusion--am-i-spending-more-money" class="nav-link" data-scroll-target="#conclusion--am-i-spending-more-money">Conclusion- Am I spending more money?</a></li>
  <li><a href="#extra-whats-the-most-expensive-place-to-fly-out-of-in-2023-what-is-the-least-expensive" id="toc-extra-whats-the-most-expensive-place-to-fly-out-of-in-2023-what-is-the-least-expensive" class="nav-link" data-scroll-target="#extra-whats-the-most-expensive-place-to-fly-out-of-in-2023-what-is-the-least-expensive">Extra; What’s the most expensive place to fly out of in 2023? What is the least expensive?</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Midterm</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Adaeze Obinelo </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="research-question-am-i-really-paying-more-to-fly-home-for-thanksgiving-than-anyone-ever-has-before" class="level2">
<h2 class="anchored" data-anchor-id="research-question-am-i-really-paying-more-to-fly-home-for-thanksgiving-than-anyone-ever-has-before">Research Question: Am I really paying more to fly home for thanksgiving than anyone ever has before?</h2>
<p>Background: Every year it seems like buying my ticket home for the holidays hurts a little bit more than it did the year before. Am I being dramatic, or is the cost of airfare actually going up compared to years prior?</p>
<p><u>Precise research question:</u> <strong>Is flying round trip from LAX to Logan Airport(BOS) more expensive on average than it has been in previous decades, when adjusting for 2023 inflation?</strong></p>
</section>
<section id="step-1-get-my-data-set-up-my-library" class="level2">
<h2 class="anchored" data-anchor-id="step-1-get-my-data-set-up-my-library">Step 1: Get my data, set up my library</h2>
<p><u><strong>Data Source:</strong></u></p>
<p>I took data available from the second financial quarter of 4 years, 1993, 2003, 2013, and 2023; I felt that a ten year spread would be good enough to get a general sense of fare trends.</p>
<p>The names of some of the variables were overall very clunky, so I tried to fix that here.</p>
<p>Additionally had to change the coding to start after the first row, as below</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'data.table'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:dplyr':

    between, first, last</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ forcats   1.0.0     ✔ readr     2.1.4
✔ ggplot2   3.4.3     ✔ stringr   1.5.0
✔ lubridate 1.9.2     ✔ tibble    3.2.1
✔ purrr     1.0.2     ✔ tidyr     1.3.0</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ data.table::between() masks dplyr::between()
✖ dplyr::filter()       masks stats::filter()
✖ data.table::first()   masks dplyr::first()
✖ lubridate::hour()     masks data.table::hour()
✖ lubridate::isoweek()  masks data.table::isoweek()
✖ dplyr::lag()          masks stats::lag()
✖ data.table::last()    masks dplyr::last()
✖ lubridate::mday()     masks data.table::mday()
✖ lubridate::minute()   masks data.table::minute()
✖ lubridate::month()    masks data.table::month()
✖ lubridate::quarter()  masks data.table::quarter()
✖ lubridate::second()   masks data.table::second()
✖ purrr::transpose()    masks data.table::transpose()
✖ lubridate::wday()     masks data.table::wday()
✖ lubridate::week()     masks data.table::week()
✖ lubridate::yday()     masks data.table::yday()
✖ lubridate::year()     masks data.table::year()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>set1 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">'1993f.xls'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...2`
• `` -&gt; `...3`
• `` -&gt; `...4`
• `` -&gt; `...5`
• `` -&gt; `...6`
• `` -&gt; `...7`
• `` -&gt; `...8`</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>set2 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">'2003f.xls'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...2`
• `` -&gt; `...3`
• `` -&gt; `...4`
• `` -&gt; `...5`
• `` -&gt; `...6`
• `` -&gt; `...7`
• `` -&gt; `...8`</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>set3 <span class="ot">&lt;-</span><span class="fu">read_excel</span>(<span class="st">'2013f.xls'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...2`
• `` -&gt; `...3`
• `` -&gt; `...4`
• `` -&gt; `...5`
• `` -&gt; `...6`
• `` -&gt; `...7`
• `` -&gt; `...8`</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>set4 <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">'2023f.xls'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...2`
• `` -&gt; `...3`
• `` -&gt; `...4`
• `` -&gt; `...5`
• `` -&gt; `...6`
• `` -&gt; `...7`
• `` -&gt; `...8`</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(set1) <span class="ot">&lt;-</span> set1[<span class="dv">1</span>,] <span class="co"># the data loaded with "header" included as data, so fixing that</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: The `value` argument of `names&lt;-` must be a character vector as of tibble
3.0.0.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>set1 <span class="ot">&lt;-</span> set1[<span class="sc">-</span><span class="dv">1</span>,]</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(set2) <span class="ot">&lt;-</span> set2[<span class="dv">1</span>,] </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>set2 <span class="ot">&lt;-</span> set2[<span class="sc">-</span><span class="dv">1</span>,]</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(set3) <span class="ot">&lt;-</span> set3[<span class="dv">1</span>,] </span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>set3 <span class="ot">&lt;-</span> set3[<span class="sc">-</span><span class="dv">1</span>,]</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(set4) <span class="ot">&lt;-</span> set4[<span class="dv">1</span>,] </span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>set4 <span class="ot">&lt;-</span> set4[<span class="sc">-</span><span class="dv">1</span>,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(set1)[<span class="fu">names</span>(set1) <span class="sc">==</span> <span class="st">"Average Fare ($)"</span>] <span class="ot">&lt;-</span> <span class="st">"Avg_1993"</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(set1)[<span class="dv">7</span>]<span class="ot">&lt;-</span> <span class="st">"Adjusted_Avg_Fare_Q2_1993"</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(set1)[<span class="dv">2</span>]<span class="ot">&lt;-</span> <span class="st">"Airport"</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(set1)[<span class="dv">1</span>]<span class="ot">&lt;-</span> <span class="st">"PassRank_1993"</span></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(set1)[<span class="dv">8</span>]<span class="ot">&lt;-</span> <span class="st">"_1993v2022_Passengers"</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(set2)[<span class="fu">names</span>(set2) <span class="sc">==</span> <span class="st">"Average Fare ($)"</span>] <span class="ot">&lt;-</span> <span class="st">"Avg_2003"</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(set2)[<span class="dv">7</span>]<span class="ot">&lt;-</span> <span class="st">"Adjusted_Avg_Fare_Q2_2003"</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(set2)[<span class="dv">2</span>]<span class="ot">&lt;-</span> <span class="st">"Airport"</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(set2)[<span class="dv">1</span>]<span class="ot">&lt;-</span> <span class="st">"Pass_Rank_2003"</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(set2)[<span class="dv">8</span>]<span class="ot">&lt;-</span> <span class="st">"_2003v2022_Passengers"</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(set3)[<span class="fu">names</span>(set3) <span class="sc">==</span> <span class="st">"Average Fare ($)"</span>] <span class="ot">&lt;-</span> <span class="st">"Avg_2013"</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(set3)[<span class="dv">7</span>]<span class="ot">&lt;-</span> <span class="st">"Adjusted_Avg_Fare_Q2_2013"</span></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(set3)[<span class="dv">2</span>]<span class="ot">&lt;-</span> <span class="st">"Airport"</span></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(set3)[<span class="dv">1</span>]<span class="ot">&lt;-</span> <span class="st">"Pass_Rank_2013"</span></span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(set3)[<span class="dv">8</span>]<span class="ot">&lt;-</span> <span class="st">"_2013v2022_Passengers"</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(set4)[<span class="fu">names</span>(set4) <span class="sc">==</span> <span class="st">"Average Fare ($)"</span>] <span class="ot">&lt;-</span> <span class="st">"Avg_2023"</span></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(set4)[<span class="dv">7</span>]<span class="ot">&lt;-</span> <span class="st">"Adjusted_Avg_Fare_Q2_2023"</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(set4)[<span class="dv">2</span>]<span class="ot">&lt;-</span> <span class="st">"Airport"</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(set4)[<span class="dv">1</span>]<span class="ot">&lt;-</span> <span class="st">"Pass_Rank_2023"</span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(set4)[<span class="dv">8</span>]<span class="ot">&lt;-</span> <span class="st">"_2023v2022_Passengers"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="missing-values" class="level2">
<h2 class="anchored" data-anchor-id="missing-values">Missing Values</h2>
<p>Removing airports missing a value for ‘2022 Passengers’, a variable that compares the amount of domestic passengers each airport sees in 2022. A missing value or a value of 0 indicate these airports don’t provide commercial domestic flights, so I’m removing missing values and values of 0 because the corresponding airports wouldn’t be ones I would fly from.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out records with missing or 0 values in '_1993v2022_Passengers'</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>set1 <span class="ot">&lt;-</span> set1[<span class="fu">complete.cases</span>(set1<span class="sc">$</span><span class="st">`</span><span class="at">_1993v2022_Passengers</span><span class="st">`</span>) <span class="sc">&amp;</span> set1<span class="sc">$</span><span class="st">`</span><span class="at">_1993v2022_Passengers</span><span class="st">`</span> <span class="sc">!=</span> <span class="dv">0</span>, ]</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out records with missing or 0 values in '_2003v2022_Passengers'</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>set2 <span class="ot">&lt;-</span> set2[<span class="fu">complete.cases</span>(set2<span class="sc">$</span><span class="st">`</span><span class="at">_2003v2022_Passengers</span><span class="st">`</span>) <span class="sc">&amp;</span> set2<span class="sc">$</span><span class="st">`</span><span class="at">_2003v2022_Passengers</span><span class="st">`</span> <span class="sc">!=</span> <span class="dv">0</span>, ]</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out records with missing or 0 values in '_2013v2022_Passengers'</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>set3 <span class="ot">&lt;-</span> set3[<span class="fu">complete.cases</span>(set3<span class="sc">$</span><span class="st">`</span><span class="at">_2013v2022_Passengers</span><span class="st">`</span>) <span class="sc">&amp;</span> set3<span class="sc">$</span><span class="st">`</span><span class="at">_2013v2022_Passengers</span><span class="st">`</span> <span class="sc">!=</span> <span class="dv">0</span>, ]</span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out records with missing or 0 values in '_2023v2022_Passengers'</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>set4 <span class="ot">&lt;-</span> set4[<span class="fu">complete.cases</span>(set4<span class="sc">$</span><span class="st">`</span><span class="at">_2023v2022_Passengers</span><span class="st">`</span>) <span class="sc">&amp;</span> set4<span class="sc">$</span><span class="st">`</span><span class="at">_2023v2022_Passengers</span><span class="st">`</span> <span class="sc">!=</span> <span class="dv">0</span>, ]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Combined my data into one dataset below. I realized the data was coded as character variables, so had to change my fare variables to dbl format as below.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>trx1 <span class="ot">&lt;-</span> <span class="fu">merge</span>(set1, set2, <span class="at">by=</span><span class="fu">c</span>(<span class="st">'Airport'</span>, <span class="st">'Airport Name'</span>, <span class="st">'City Name'</span>, <span class="st">'State Name'</span>))</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(trx1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 403  12</code></pre>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>trx2 <span class="ot">&lt;-</span> <span class="fu">merge</span>(set3, set4, <span class="at">by=</span><span class="fu">c</span>(<span class="st">'Airport'</span>, <span class="st">'Airport Name'</span>, <span class="st">'City Name'</span>, <span class="st">'State Name'</span>))</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(trx2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 408  12</code></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>trx <span class="ot">&lt;-</span> <span class="fu">merge</span>(trx1, trx2, <span class="at">by=</span><span class="fu">c</span>(<span class="st">'Airport'</span>, <span class="st">'Airport Name'</span>, <span class="st">'City Name'</span>, <span class="st">'State Name'</span>))</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>trx<span class="sc">$</span>PassRank_1993 <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(trx<span class="sc">$</span>PassRank_1993))</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>trx<span class="sc">$</span>Adjusted_Avg_Fare_Q2_1993 <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(trx<span class="sc">$</span>Adjusted_Avg_Fare_Q2_1993))</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>trx<span class="sc">$</span>Pass_Rank_2003 <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(trx<span class="sc">$</span>Pass_Rank_2003))</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>trx<span class="sc">$</span>Adjusted_Avg_Fare_Q2_2003 <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(trx<span class="sc">$</span>Adjusted_Avg_Fare_Q2_2003))</span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>trx<span class="sc">$</span>Pass_Rank_2013 <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(trx<span class="sc">$</span>Pass_Rank_2013))</span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>trx<span class="sc">$</span>Adjusted_Avg_Fare_Q2_2013 <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(trx<span class="sc">$</span>Adjusted_Avg_Fare_Q2_2013))</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>trx<span class="sc">$</span>Pass_Rank_2023 <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(trx<span class="sc">$</span>Pass_Rank_2023))</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>trx<span class="sc">$</span>Adjusted_Avg_Fare_Q2_2023 <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(trx<span class="sc">$</span>Adjusted_Avg_Fare_Q2_2023))</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-13"><a href="#cb28-13" aria-hidden="true" tabindex="-1"></a>trx<span class="sc">$</span>Avg_1993 <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(trx<span class="sc">$</span>Avg_1993))</span>
<span id="cb28-14"><a href="#cb28-14" aria-hidden="true" tabindex="-1"></a>trx<span class="sc">$</span>Avg_2003 <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(trx<span class="sc">$</span>Avg_2003))</span>
<span id="cb28-15"><a href="#cb28-15" aria-hidden="true" tabindex="-1"></a>trx<span class="sc">$</span>Avg_2013 <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(trx<span class="sc">$</span>Avg_2013))</span>
<span id="cb28-16"><a href="#cb28-16" aria-hidden="true" tabindex="-1"></a>trx<span class="sc">$</span>Avg_2023 <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(trx<span class="sc">$</span>Avg_2023))</span>
<span id="cb28-17"><a href="#cb28-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-18"><a href="#cb28-18" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(purrr)</span>
<span id="cb28-19"><a href="#cb28-19" aria-hidden="true" tabindex="-1"></a>trx<span class="ot">&lt;-</span><span class="fu">modify_if</span>(trx, <span class="sc">~</span><span class="fu">is.numeric</span>(.), <span class="sc">~</span><span class="fu">round</span>(., <span class="dv">3</span>))</span>
<span id="cb28-20"><a href="#cb28-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-21"><a href="#cb28-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-22"><a href="#cb28-22" aria-hidden="true" tabindex="-1"></a>trx <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(trx)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The bottom of our dataset has statistics that I don’t need –&gt; will take care of them below</p>
</section>
<section id="added-coordinates-just-in-case" class="level2">
<h2 class="anchored" data-anchor-id="added-coordinates-just-in-case">Added coordinates just in case</h2>
<p>I like having coordinate data just in case I’ll need it (maps are fun), so I found a data set with lat and longitude coordinates for US airports</p>
<ul>
<li>pulled the info I needed from this dataset, then merged by airport abbreviation</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>airports <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'us-airports.csv'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Rows: 30598 Columns: 23
── Column specification ────────────────────────────────────────────────────────
Delimiter: ","
chr (23): id, ident, type, name, latitude_deg, longitude_deg, elevation_ft, ...

ℹ Use `spec()` to retrieve the full column specification for this data.
ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>gps <span class="ot">&lt;-</span> airports <span class="sc">%&gt;%</span> </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(local_code, latitude_deg, longitude_deg)</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(gps) <span class="ot">&lt;-</span> gps[<span class="dv">1</span>,] </span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>gps <span class="ot">&lt;-</span> gps[<span class="sc">-</span><span class="dv">1</span>,]</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(gps)[<span class="dv">1</span>]<span class="ot">&lt;-</span> <span class="st">"Airport"</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(gps)[<span class="dv">2</span>]<span class="ot">&lt;-</span> <span class="st">"lat"</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(gps)[<span class="dv">3</span>]<span class="ot">&lt;-</span> <span class="st">"lon"</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>trx <span class="ot">&lt;-</span> <span class="fu">merge</span>(trx, gps, <span class="at">by=</span><span class="fu">c</span>(<span class="st">'Airport'</span>))</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>trx <span class="ot">&lt;-</span> trx <span class="sc">%&gt;%</span> <span class="fu">drop_na</span>(<span class="st">`</span><span class="at">Airport Name</span><span class="st">`</span>) <span class="co">#drop rows missing aiport name (from og trx)'</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>trx<span class="sc">$</span>lat <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(trx<span class="sc">$</span>lat))</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>trx<span class="sc">$</span>lon <span class="ot">=</span> <span class="fu">as.numeric</span>(<span class="fu">as.character</span>(trx<span class="sc">$</span>lon))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Dataset is smaller after dropping NA’s only bc the bottom of the dataset has BoTX statistics ( I dont need them).</p>
</section>
<section id="step-2-check-data" class="level2">
<h2 class="anchored" data-anchor-id="step-2-check-data">Step 2: Check Data:</h2>
<p>I felt like the best way to check my data would be to compare the inflation adjusted fare variable for each year (Adjusted_Avg_Fare_Q2) provided originally with my dataset with an actual dollar to dollar conversion between that year and 2023.</p>
<p>Conversions:</p>
<p>1993: 1-&gt;2.13</p>
<p>2003: 1-&gt;1.67</p>
<p>2013: 1-&gt;1.32</p>
<ul>
<li>I coded a new variable “check.adj(xx)” for each year and compared the value</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>check <span class="ot">&lt;-</span> trx <span class="sc">%&gt;%</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Avg_1993, Avg_2003, Avg_2013, Avg_2023) <span class="sc">%&gt;%</span> </span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">check.adj.93 =</span> (Avg_1993) <span class="sc">*</span><span class="fl">2.13</span>,</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>                  <span class="at">check.adj.03 =</span> (Avg_2003) <span class="sc">*</span> <span class="fl">1.67</span>,</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>                  <span class="at">check.adj.13 =</span> (Avg_2013) <span class="sc">*</span> <span class="fl">1.32</span>,</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">check.adj.23 =</span> (Avg_2023)<span class="sc">*</span> <span class="dv">1</span>)</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>trx <span class="ot">&lt;-</span> <span class="fu">merge</span>(trx, check, <span class="at">by=</span><span class="fu">c</span>(<span class="st">'Avg_1993'</span>, <span class="st">'Avg_2003'</span>, <span class="st">'Avg_2013'</span>, <span class="st">'Avg_2023'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>trx <span class="sc">%&gt;%</span> </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Adjusted_Avg_Fare_Q2_1993,check.adj<span class="fl">.93</span>, Adjusted_Avg_Fare_Q2_2003, check.adj<span class="fl">.03</span>, Adjusted_Avg_Fare_Q2_2013, check.adj<span class="fl">.13</span>, Adjusted_Avg_Fare_Q2_2023, check.adj<span class="fl">.23</span>)<span class="sc">%&gt;%</span> </span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Adjusted_Avg_Fare_Q2_1993 check.adj.93 Adjusted_Avg_Fare_Q2_2003 check.adj.03
1                   219.846     221.9758                   402.720     406.0605
2                   267.383     269.9732                   393.425     396.6885
3                   281.144     283.8672                   385.678     388.8779
4                   283.787     286.5361                   400.977     404.3037
5                   286.958     289.7375                   379.557     382.7055
  Adjusted_Avg_Fare_Q2_2013 check.adj.13 Adjusted_Avg_Fare_Q2_2023 check.adj.23
1                   208.124     210.4159                   176.255      176.255
2                   544.805     550.8070                   461.966      461.966
3                   457.750     462.7933                   392.579      392.579
4                   516.517     522.2078                   443.932      443.932
5                   439.538     444.3806                   355.561      355.561</code></pre>
</div>
</div>
<p>The value of my check variable and the actual inflation adjusted fare isn’t a perfect match, but its very close so I would consider my data valid.</p>
</section>
<section id="step-3-birds-eye-view-comparing-airport-fare-to-passenger-rank" class="level2">
<h2 class="anchored" data-anchor-id="step-3-birds-eye-view-comparing-airport-fare-to-passenger-rank">Step 3: Bird’s eye view –&gt; Comparing Airport Fare to Passenger Rank</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(openxlsx)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Assuming "trx" is your dataset</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace "trx" with the actual name of your dataset</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating a table of averages by state</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>averages_by_state <span class="ot">&lt;-</span> trx <span class="sc">%&gt;%</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="st">'State Name'</span>) <span class="sc">%&gt;%</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">Avg_1993 =</span> <span class="fu">mean</span>(Avg_1993, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">Avg_2003 =</span> <span class="fu">mean</span>(Avg_2003, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">Avg_2013 =</span> <span class="fu">mean</span>(Avg_2013, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">Avg_2023 =</span> <span class="fu">mean</span>(Avg_2023, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the resulting table</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(averages_by_state)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 5
  `"State Name"` Avg_1993 Avg_2003 Avg_2013 Avg_2023
  &lt;chr&gt;             &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
1 State Name         371.     393.     455.     489.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Export the table to an Excel file in the working directory</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.xlsx</span>(averages_by_state, <span class="st">"averages_by_state.xlsx"</span>, <span class="at">rowNames =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The dataset includes a variable Passenger Rank, that is compiled by comparing the overall passenger traffic at that airport for that year to the overall amount of total passengers at all airports in 2022. This variable allows us to rank the passenger load of that airport for that year to the rest in that year.</p>
<p>Are there any broad trends in the data provided? Logan and LAX are high traffic airports- can we predict any associations between their passenger rank and the average fare?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>trx <span class="sc">%&gt;%</span> </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Airport<span class="sc">==</span> <span class="st">"LAX"</span><span class="sc">|</span> Airport<span class="sc">==</span> <span class="st">"BOS"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Airport, Pass_Rank_2023, Pass_Rank_2013, Pass_Rank_2003, PassRank_1993) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Airport Pass_Rank_2023 Pass_Rank_2013 Pass_Rank_2003 PassRank_1993
1     LAX              1              1              1             1
2     BOS              6              6              6             6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>pass_rank_data <span class="ot">&lt;-</span> trx <span class="sc">%&gt;%</span> </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Airport <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"LAX"</span>, <span class="st">"BOS"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Airport, Pass_Rank_2023, Pass_Rank_2013, Pass_Rank_2003, PassRank_1993)</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Specify the output Excel file path</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>output_file <span class="ot">&lt;-</span> <span class="st">"pass_rank.xlsx"</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Write the result to Excel in the working directory</span></span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a><span class="fu">write.xlsx</span>(pass_rank_data, output_file, <span class="at">rowNames =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Both LAX and BOS consistently rank among the top 10 for passenger rank for all 4 years.</p>
<p>What can be said about passenger rank and average fare?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(trx)[<span class="fu">names</span>(trx) <span class="sc">==</span> <span class="st">"State Name"</span>] <span class="ot">&lt;-</span> <span class="st">"State"</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>west <span class="ot">&lt;-</span> trx <span class="sc">%&gt;%</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(State<span class="sc">==</span><span class="st">"CA"</span><span class="sc">|</span>State<span class="sc">==</span><span class="st">"AK"</span><span class="sc">|</span>State<span class="sc">==</span><span class="st">"WA"</span><span class="sc">|</span>State<span class="sc">==</span><span class="st">"ID"</span><span class="sc">|</span>State<span class="sc">==</span><span class="st">"OR"</span><span class="sc">|</span>State<span class="sc">==</span><span class="st">"NV"</span><span class="sc">|</span>State<span class="sc">==</span><span class="st">"UT"</span>)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>west <span class="sc">%&gt;%</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Pass_Rank_2003 , <span class="at">y =</span> Adjusted_Avg_Fare_Q2_2003, <span class="at">color =</span> <span class="st">"2003"</span>)) <span class="sc">+</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Pass_Rank_2003 , <span class="at">y =</span> Adjusted_Avg_Fare_Q2_2003, <span class="at">color =</span> <span class="st">"2003"</span>), <span class="at">method =</span> <span class="st">"lm"</span>)<span class="sc">+</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Pass_Rank_2013 , <span class="at">y =</span> Adjusted_Avg_Fare_Q2_2013, <span class="at">color =</span> <span class="st">"2013"</span> )) <span class="sc">+</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Pass_Rank_2013 , <span class="at">y =</span> Adjusted_Avg_Fare_Q2_2013, <span class="at">color =</span> <span class="st">"2013"</span>), <span class="at">method =</span> <span class="st">"lm"</span>)<span class="sc">+</span></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Trend of Inflation Adjusted Fare vs Passenger Rank of Western US Airports in 2003"</span>)<span class="sc">+</span></span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> PassRank_1993 , <span class="at">y =</span> Adjusted_Avg_Fare_Q2_1993, <span class="at">color =</span> <span class="st">"1993"</span>)) <span class="sc">+</span></span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> PassRank_1993 , <span class="at">y =</span> Adjusted_Avg_Fare_Q2_1993, <span class="at">color =</span> <span class="st">"1993"</span>), <span class="at">method =</span> <span class="st">"lm"</span>)<span class="sc">+</span></span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Pass_Rank_2023 , <span class="at">y =</span> Adjusted_Avg_Fare_Q2_2023, <span class="at">color =</span> <span class="st">"2023"</span>)) <span class="sc">+</span></span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Pass_Rank_2023 , <span class="at">y =</span> Adjusted_Avg_Fare_Q2_2023, <span class="at">color =</span> <span class="st">"2023"</span>), <span class="at">method =</span> <span class="st">"lm"</span>)<span class="sc">+</span></span>
<span id="cb41-17"><a href="#cb41-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="at">label =</span> <span class="st">"Passenger Rank"</span>) <span class="sc">+</span></span>
<span id="cb41-18"><a href="#cb41-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="at">label =</span> <span class="st">"Inflation Adjusted Average Fare"</span>)<span class="sc">+</span></span>
<span id="cb41-19"><a href="#cb41-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">"legend"</span>,<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>,<span class="st">"yellow"</span>,<span class="st">"pink"</span>,<span class="st">"red"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'
`geom_smooth()` using formula = 'y ~ x'
`geom_smooth()` using formula = 'y ~ x'
`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="submission_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Looking at the trend for all years in my data set, it looks like as the Passenger Rank decreases, broadly speaking so does the cost of the average inflation adjusted flight there in the West.</p>
<p>It also looks like compared to previous years, 2023 fares range lower than the fares from the years prior, excluding a few outliers in the lower passenger rank region of the graph.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>east <span class="ot">&lt;-</span> trx <span class="sc">%&gt;%</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(State<span class="sc">==</span><span class="st">"NY"</span><span class="sc">|</span>State<span class="sc">==</span><span class="st">"PA"</span><span class="sc">|</span>State<span class="sc">==</span><span class="st">"MD"</span><span class="sc">|</span>State<span class="sc">==</span><span class="st">"DE"</span><span class="sc">|</span>State<span class="sc">==</span><span class="st">"NJ"</span><span class="sc">|</span>State<span class="sc">==</span><span class="st">"CT"</span><span class="sc">|</span>State<span class="sc">==</span><span class="st">"RI"</span><span class="sc">|</span>State<span class="sc">==</span><span class="st">"VT"</span><span class="sc">|</span>State<span class="sc">==</span><span class="st">"MA"</span><span class="sc">|</span>State<span class="sc">==</span><span class="st">"NH"</span><span class="sc">|</span>State<span class="sc">==</span><span class="st">"ME"</span>)</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>east <span class="sc">%&gt;%</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Pass_Rank_2003 , <span class="at">y =</span> Adjusted_Avg_Fare_Q2_2003, <span class="at">color =</span> <span class="st">"2003"</span>)) <span class="sc">+</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Pass_Rank_2003 , <span class="at">y =</span> Adjusted_Avg_Fare_Q2_2003, <span class="at">color =</span> <span class="st">"2003"</span>), <span class="at">method =</span> <span class="st">"lm"</span>)<span class="sc">+</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Pass_Rank_2013 , <span class="at">y =</span> Adjusted_Avg_Fare_Q2_2013, <span class="at">color =</span> <span class="st">"2013"</span> )) <span class="sc">+</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Pass_Rank_2013 , <span class="at">y =</span> Adjusted_Avg_Fare_Q2_2013, <span class="at">color =</span> <span class="st">"2013"</span>), <span class="at">method =</span> <span class="st">"lm"</span>)<span class="sc">+</span></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="sc">+</span></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Trend of Inflation Adjusted Fare vs Passenger Rank of Western US Airports in 2003"</span>)<span class="sc">+</span></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> PassRank_1993 , <span class="at">y =</span> Adjusted_Avg_Fare_Q2_1993, <span class="at">color =</span> <span class="st">"1993"</span>)) <span class="sc">+</span></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> PassRank_1993 , <span class="at">y =</span> Adjusted_Avg_Fare_Q2_1993, <span class="at">color =</span> <span class="st">"1993"</span>), <span class="at">method =</span> <span class="st">"lm"</span>)<span class="sc">+</span></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Pass_Rank_2023 , <span class="at">y =</span> Adjusted_Avg_Fare_Q2_2023, <span class="at">color =</span> <span class="st">"2023"</span>)) <span class="sc">+</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Pass_Rank_2023 , <span class="at">y =</span> Adjusted_Avg_Fare_Q2_2023, <span class="at">color =</span> <span class="st">"2023"</span>), <span class="at">method =</span> <span class="st">"lm"</span>)<span class="sc">+</span></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="at">label =</span> <span class="st">"Passenger Rank"</span>) <span class="sc">+</span></span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="at">label =</span> <span class="st">"Inflation Adjusted Average Fare"</span>)<span class="sc">+</span></span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">name=</span><span class="st">"legend"</span>,<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"blue"</span>,<span class="st">"yellow"</span>,<span class="st">"pink"</span>,<span class="st">"red"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using formula = 'y ~ x'
`geom_smooth()` using formula = 'y ~ x'
`geom_smooth()` using formula = 'y ~ x'
`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<p><img src="submission_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>However, it does not look like this trend of is as strong in the east. Again, 2023 fares range lower than in previous decades when comparing inflation adjusted averages. From these figures, its starting to look like I might actually be paying less to fly out of LAX and BOS, two high traffic airports, than I would be in previous years.</p>
<p>How about if I compare Unadjusted average Fares across the four years of data?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>LAX.BOS <span class="ot">&lt;-</span> trx <span class="sc">%&gt;%</span> </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Airport <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"LAX"</span>, <span class="st">"BOS"</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Airport, Adjusted_Avg_Fare_Q2_1993, Adjusted_Avg_Fare_Q2_2003, Adjusted_Avg_Fare_Q2_2013, Adjusted_Avg_Fare_Q2_2023, Avg_1993, Avg_2003, Avg_2013, Avg_2023, Pass_Rank_2023, Pass_Rank_2013, Pass_Rank_2003, PassRank_1993)</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>LAX.BOS <span class="sc">%&gt;%</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gather</span>(<span class="at">key =</span> <span class="st">"Year"</span>, <span class="at">value =</span> <span class="st">"Unadjusted_Avg_Fare"</span>, Avg_1993, Avg_2003, Avg_2013, Avg_2023) <span class="sc">%&gt;%</span></span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> Airport, <span class="at">y =</span> Unadjusted_Avg_Fare, <span class="at">fill =</span> Year)) <span class="sc">+</span></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">"identity"</span>, <span class="at">position =</span> <span class="st">"dodge"</span>) <span class="sc">+</span></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"UnAdjusted Fare For BOS and LAX by Year"</span>)<span class="sc">+</span></span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">"Airport"</span>) <span class="sc">+</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">"Unadjusted Average Fare"</span>) <span class="sc">+</span></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(. <span class="sc">~</span> Year, <span class="at">scales =</span> <span class="st">"free_y"</span>, <span class="at">space =</span> <span class="st">"free_y"</span>) <span class="sc">+</span></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(</span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">values =</span> <span class="fu">c</span>(<span class="st">"Avg_1993"</span> <span class="ot">=</span> <span class="st">"blue"</span>, <span class="st">"Avg_2003"</span> <span class="ot">=</span> <span class="st">"yellow"</span>, <span class="st">"Avg_2013"</span> <span class="ot">=</span> <span class="st">"pink"</span>, <span class="st">"Avg_2023"</span> <span class="ot">=</span> <span class="st">"red"</span>),</span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Avg_1993"</span> <span class="ot">=</span> <span class="st">"Average Fare 1993"</span>, <span class="st">"Avg_2003"</span> <span class="ot">=</span> <span class="st">"Average Fare 2003"</span>, <span class="st">"Avg_2013"</span> <span class="ot">=</span> <span class="st">"Average Fare 2013"</span>, <span class="st">"Avg_2023"</span> <span class="ot">=</span> <span class="st">"Average Fare 2023"</span>)</span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="submission_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Looks as if the cost of the average ticket out of Logan has remained around the same across the 4 years of data that I collected, with a slight downtrend in 2013, which then up trended again into 2023. The average ticket out of LAX on the other-hand seems to have up trended steadily since 1993, starting at under $350 to a little over $400 by 2023.</p>
</section>
<section id="step-4-answering-my-question" class="level2">
<h2 class="anchored" data-anchor-id="step-4-answering-my-question">Step 4: Answering My Question</h2>
<p>How, lets look at adjusted fare across the 4 years of data, but just for LAX and BOS</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>LAX.BOS<span class="ot">&lt;-</span>trx <span class="sc">%&gt;%</span> </span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Airport<span class="sc">==</span> <span class="st">"LAX"</span><span class="sc">|</span>Airport<span class="sc">==</span> <span class="st">"BOS"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Airport, Adjusted_Avg_Fare_Q2_1993,Adjusted_Avg_Fare_Q2_2003,Adjusted_Avg_Fare_Q2_2013,Adjusted_Avg_Fare_Q2_2023, Avg_1993, Avg_2003, Avg_2013, Avg_2023,Pass_Rank_2023, Pass_Rank_2013, Pass_Rank_2003, PassRank_1993)</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>LAX.BOS <span class="sc">%&gt;%</span> </span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y=</span>Adjusted_Avg_Fare_Q2_1993, <span class="at">x =</span> Airport), <span class="at">stat=</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"blue"</span>)<span class="sc">+</span></span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="at">label =</span> <span class="st">"Airport"</span>) <span class="sc">+</span></span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="at">label =</span> <span class="st">"Inflation Adjusted Average Fare 1993"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="submission_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>LAX.BOS <span class="sc">%&gt;%</span> </span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y=</span>Adjusted_Avg_Fare_Q2_2003, <span class="at">x =</span> Airport), <span class="at">stat=</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"yellow"</span>)<span class="sc">+</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="at">label =</span> <span class="st">"Airport"</span>) <span class="sc">+</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="at">label =</span> <span class="st">"Inflation Adjusted Average Fare 2003"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="submission_files/figure-html/unnamed-chunk-13-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>LAX.BOS <span class="sc">%&gt;%</span> </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y=</span>Adjusted_Avg_Fare_Q2_2013, <span class="at">x =</span> Airport), <span class="at">stat=</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"pink"</span>)<span class="sc">+</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="at">label =</span> <span class="st">"Airport"</span>) <span class="sc">+</span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="at">label =</span> <span class="st">"Inflation Adjusted Average Fare 2013"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="submission_files/figure-html/unnamed-chunk-13-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>LAX.BOS <span class="sc">%&gt;%</span> </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()<span class="sc">+</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y=</span>Adjusted_Avg_Fare_Q2_2023, <span class="at">x =</span> Airport), <span class="at">stat=</span> <span class="st">"identity"</span>, <span class="at">fill =</span> <span class="st">"red"</span>)<span class="sc">+</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="at">label =</span> <span class="st">"Airport"</span>) <span class="sc">+</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="at">label =</span> <span class="st">"Inflation Adjusted Average Fare 2023"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="submission_files/figure-html/unnamed-chunk-13-4.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Boston: Looks like I’ll actually be paying <em>less</em> than I would have in prior years, particularly in 1993. Almost $800 to fly in inflation adjusted rate, compared to $400 today.</p>
<p>LAX: Not as bad as Logan, which was about $700 to fly out of in 1993, compared to about $450 today.</p>
<p><em>How much less compared to 1993?</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>LAX.BOS <span class="ot">&lt;-</span> LAX.BOS <span class="sc">%&gt;%</span> </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">comp_fare =</span> Adjusted_Avg_Fare_Q2_1993 <span class="sc">-</span> Adjusted_Avg_Fare_Q2_2023)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>LAX.BOS <span class="sc">%&gt;%</span> </span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Airport, comp_fare)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Airport comp_fare
1     LAX   278.577
2     BOS   369.449</code></pre>
</div>
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fl">278.577</span> <span class="sc">+</span> <span class="fl">369.449</span>   </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 648.026</code></pre>
</div>
</div>
<p>It looks like on average, I would be paying $648 more for a round trip in 1993 when comparing inflation adjusted rates. So it looks like, at least comparing the years that I did, I actually have it better off with what I pay now compared to what I would be paying in 1993.</p>
<p>This is however limited scope–&gt; I only looked at one quarter and across 4 interrupted time points.</p>
</section>
<section id="conclusion--am-i-spending-more-money" class="level2">
<h2 class="anchored" data-anchor-id="conclusion--am-i-spending-more-money">Conclusion- Am I spending more money?</h2>
<p>It looks like if we’re just looking at the dollar amount, yes I spend slightly more in 2023 than what people spent for the average round trip from BOS to LAX in previous years, primarily thanks to the rising cost of a ticket out of LAX. However, in inflation adjusted dollars (which is more relevant, even though it doesn’t feel any better) I am actually spending less. <u>So in conclusion, I am <strong>not</strong> spending more in relative 2023 dollars than anyone else has every spent before for a round trip between LAX and Boston.</u></p>
</section>
<section id="extra-whats-the-most-expensive-place-to-fly-out-of-in-2023-what-is-the-least-expensive" class="level2">
<h2 class="anchored" data-anchor-id="extra-whats-the-most-expensive-place-to-fly-out-of-in-2023-what-is-the-least-expensive">Extra; What’s the most expensive place to fly out of in 2023? What is the least expensive?</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(devtools)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Loading required package: usethis</code></pre>
</div>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaflet)</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(magrittr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'magrittr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:purrr':

    set_names</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:tidyr':

    extract</code></pre>
</div>
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>trx<span class="ot">&lt;-</span>trx <span class="sc">%&gt;%</span> </span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(Avg_2023))</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a>max <span class="ot">&lt;-</span> trx <span class="sc">%&gt;%</span></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Avg_2023, lat, lon, Airport) <span class="sc">%&gt;%</span></span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>min <span class="ot">&lt;-</span> trx <span class="sc">%&gt;%</span></span>
<span id="cb60-9"><a href="#cb60-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Avg_2023, lat, lon, Airport) <span class="sc">%&gt;%</span></span>
<span id="cb60-10"><a href="#cb60-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">row_number</span>() <span class="sc">==</span> <span class="dv">369</span>)</span>
<span id="cb60-11"><a href="#cb60-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-12"><a href="#cb60-12" aria-hidden="true" tabindex="-1"></a><span class="fu">leaflet</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb60-13"><a href="#cb60-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addProviderTiles</span>(<span class="st">'CartoDB.Positron'</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb60-14"><a href="#cb60-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addCircles</span>(</span>
<span id="cb60-15"><a href="#cb60-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> min,</span>
<span id="cb60-16"><a href="#cb60-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">lat =</span> <span class="sc">~</span>lat, <span class="at">lng =</span> <span class="sc">~</span>lon, <span class="at">popup =</span> <span class="st">"Min Avg Fare."</span>,</span>
<span id="cb60-17"><a href="#cb60-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">opacity =</span> <span class="dv">1</span>, <span class="at">fillOpacity =</span> <span class="dv">1</span>, <span class="at">radius =</span> <span class="dv">400</span>, <span class="at">color =</span> <span class="st">"blue"</span></span>
<span id="cb60-18"><a href="#cb60-18" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb60-19"><a href="#cb60-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">addCircles</span>(</span>
<span id="cb60-20"><a href="#cb60-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> max,</span>
<span id="cb60-21"><a href="#cb60-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">lat =</span> <span class="sc">~</span>lat, <span class="at">lng =</span> <span class="sc">~</span>lon, <span class="at">popup =</span> <span class="st">"Max Avg Fare."</span>,</span>
<span id="cb60-22"><a href="#cb60-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">opacity=</span><span class="dv">1</span>, <span class="at">fillOpacity=</span><span class="dv">1</span>, <span class="at">radius =</span> <span class="dv">400</span>, <span class="at">color =</span> <span class="st">"red"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="leaflet html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-dd035e0693b094692d41" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-dd035e0693b094692d41">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addCircles","args":[34.898899,-120.457001,400,null,null,{"interactive":true,"className":"","stroke":true,"color":"blue","weight":5,"opacity":1,"fill":true,"fillColor":"blue","fillOpacity":1},"Min Avg Fare.",null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null,null]},{"method":"addCircles","args":[55.2061,-162.725006,400,null,null,{"interactive":true,"className":"","stroke":true,"color":"red","weight":5,"opacity":1,"fill":true,"fillColor":"red","fillOpacity":1},"Max Avg Fare.",null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null,null]}],"limits":{"lat":[34.898899,55.2061],"lng":[-162.725006,-120.457001]}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>max</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Avg_2023     lat      lon Airport
1     1858 55.2061 -162.725     CDB</code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>min</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Avg_2023     lat      lon Airport
1  111.813 34.8989 -120.457     SMX</code></pre>
</div>
</div>
<p>The most expensive Airport to Fly out of in 2023 is Central Business District in Alaska.</p>
<p>The least expensive to fly out of is Santa Maria Public Airport in Santa Barbara.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>